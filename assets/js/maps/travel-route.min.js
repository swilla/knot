var map,route;$(document).ready(function(){$("#forward").attr("disabled","disabled"),$("#back").attr("disabled","disabled"),$("#get_route").click(function(t){t.preventDefault(),map.getRoutes({origin:[map.markers[0].getPosition().lat(),map.markers[0].getPosition().lng()],destination:[map.markers[map.markers.length-1].getPosition().lat(),map.markers[map.markers.length-1].getPosition().lng()],callback:function(t){route=new GMaps.Route({map:map,route:t[0],strokeColor:"#336699",strokeOpacity:.5,strokeWeight:10}),$("#forward").removeAttr("disabled"),$("#back").removeAttr("disabled")}}),$("#forward").click(function(t){t.preventDefault(),route.forward(),route.step_count<route.steps_length&&$("#steps").append("<li>"+route.steps[route.step_count].instructions+"</li>")}),$("#back").click(function(t){t.preventDefault(),route.back(),route.step_count>=0&&$("#steps").find("li").last().remove()})}),map=new GMaps({el:"#travel_map",lat:-12.043333,lng:-77.028333,zoom:16,height:"500px",click:function(t){map.addMarker({lat:t.latLng.lat(),lng:t.latLng.lng()})}})});
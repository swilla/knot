!function(r,a){r.formUtils.addValidator({name:"swesec",validatorFunction:function(s,e){var n,l,t,o;if(e.valAttr("use-hyphen")){if(o=s.split("-"),2!=o.length)return!1;s=o.join("")}if(!s.match(/^(\d{4})(\d{2})(\d{2})(\d{4})$/))return!1;n=RegExp.$1,l=r.formUtils.parseDateInt(RegExp.$2),t=r.formUtils.parseDateInt(RegExp.$3),a.ssnGender=parseInt(RegExp.$4.substring(2,3))%2===0?"female":"male";var i=new Array(31,28,31,30,31,30,31,31,30,31,30,31);if((n%400===0||n%4===0&&n%100!==0)&&(i[1]=29),1>l||l>12||1>t||t>i[l-1])return!1;s=s.substring(2,s.length);for(var g="",d=0;d<s.length;d++)g+=((d+1)%2+1)*s.substring(d,d+1);var u=0;for(d=0;d<g.length;d++)u+=parseInt(g.substring(d,d+1),10);return u%10===0},errorMessage:"",errorMessageKey:"badSecurityNumber"}),r.formUtils.addValidator({name:"swecounty",validatorFunction:function(a){return a=a.toLowerCase(),-1==r.inArray(a,this.counties)?"län"!=a.substr(-3).toLocaleLowerCase()?r.inArray(a+"s län",this.counties)>-1:!1:!0},errorMessage:"",errorMessageKey:"badCustomVal",counties:["stockholms län","uppsala län","södermanlands län","östergötlands län","jönköpings län","kronobergs län","kalmar län","gotlands län","blekinge län","skåne län","hallands län","västra götalands län","värmlands län","örebro län","västmanlands län","dalarnas län","gävleborgs län","västernorrlands län","jämtlands län","västerbottens län","norrbottens län"]}),r.formUtils.addValidator({name:"swemunicipality",validatorFunction:function(a){return a=a.toLowerCase(),-1==r.inArray(a,this.municipalities)?"s kommun"==a.substr(-8)&&r.inArray(a.substr(0,a.length-8),this.municipalities)>-1?!0:" kommun"==a.substr(-7)?r.inArray(a.substr(0,a.length-7),this.municipalities)>-1:!1:!0},errorMessage:"",errorMessageKey:"badCustomVal",municipalities:["ale","alingsås","alvesta","aneby","arboga","arjeplog","arvidsjaur","arvika","askersund","avesta","bengtsfors","berg","bjurholm","bjuv","boden","bollebygd","bollnäs","borgholm","borlänge","borås","botkyrka","boxholm","bromölla","bräcke","burlöv","båstad","dals-ed","danderyd","degerfors","dorotea","eda","ekerö","eksjö","emmaboda","enköpings","eskilstuna","eslövs","essunga","fagersta","falkenberg","falköping","falu","filipstad","finspång","flen","forshaga","färgelanda","gagnef","gislaved","gnesta","gnosjö","gotland","grum","grästorp","gullspång","gällivare","gävle","göteborg","götene","habo","hagfor","hallsberg","hallstahammar","halmstad","hammarö","haninge","haparanda","heby","hedemora","helsingborg","herrljunga","hjo","hofor","huddinge","hudiksvall","hultsfred","hylte","håbo","hällefor","härjedalen","härnösand","härryda","hässleholm","höganäs","högsby","hörby","höör","jokkmokk","järfälla","jönköping","kalix","kalmar","karlsborg","karlshamn","karlskoga","karlskrona","karlstad","katrineholm","kil","kinda","kiruna","klippan","knivsta","kramfors","kristianstad","kristinehamn","krokoms","kumla","kungsbacka","kungsör","kungälv","kävlinge","köping","laholm","landskrona","laxå","lekeberg","leksand","lerum","lessebo","lidingö","lidköping","lilla edets","lindesbergs","linköpings","ljungby","ljusdals","ljusnarsbergs","lomma","ludvika","luleå","lunds","lycksele","lysekil","malmö","malung-sälen","malå","mariestad","marks","markaryd","mellerud","mjölby","mora","motala","mullsjö","munkedal","munkfors","mölndal","mönsterås","mörbylånga","nacka","nora","norberg","nordanstig","nordmaling","norrköping","norrtälje","norsjö","nybro","nykvarn","nyköping","nynäshamn","nässjö","ockelbo","olofström","orsa","orust","osby","oskarshamn","ovanåker","oxelösund","pajala","partille","perstorp","piteå","ragunda","robertsfors","ronneby","rättvik","sala","salem","sandviken","sigtuna","simrishamn","sjöbo","skara","skellefteå","skinnskatteberg","skurup","skövde","smedjebacken","sollefteå","sollentuna","solna","sorsele","sotenäs","staffanstorp","stenungsund","stockholm","storfors","storuman","strängnäs","strömstad","strömsund","sundbyberg","sundsvall","sunne","surahammar","svalöv","svedala","svenljunga","säffle","säter","sävsjö","söderhamns","söderköping","södertälje","sölvesborg","tanum","tibro","tidaholm","tierp","timrå","tingsryd","tjörn","tomelilla","torsby","torså","tranemo","tranå","trelleborg","trollhättan","trosa","tyresö","täby","töreboda","uddevalla","ulricehamns","umeå","upplands väsby","upplands-bro","uppsala","uppvidinge","vadstena","vaggeryd","valdemarsvik","vallentuna","vansbro","vara","varberg","vaxholm","vellinge","vetlanda","vilhelmina","vimmerby","vindeln","vingåker","vårgårda","vänersborg","vännäs","värmdö","värnamo","västervik","västerås","växjö","ydre","ystad","åmål","ånge","åre","årjäng","åsele","åstorp","åtvidaberg","älmhult","älvdalen","älvkarleby","älvsbyn","ängelholm","öckerö","ödeshög","örebro","örkelljunga","örnsköldsvik","östersund","österåker","östhammar","östra göinge","överkalix","övertorneå"]}),r.formUtils.addValidator({name:"swephone",validatorFunction:function(r){var a=r.match(/\+/g),s=r.match(/-/g);return null!==a&&a.length>1||null!==s&&s.length>1?!1:null!==a&&0!==r.indexOf("+")?!1:(r=r.replace(/([-|\+])/g,""),r.length>8&&null===r.match(/[^0-9]/g))},errorMessage:"",errorMessageKey:"badTelephone"}),r.formUtils.addValidator({name:"swemobile",validatorFunction:function(a){if(!r.formUtils.validators.validate_swephone.validatorFunction(a))return!1;a=a.replace(/[^0-9]/g,"");var s=a.substring(0,3);return 10!=a.length&&"467"!==s?!1:11!=a.length&&"467"===s?!1:/07[0-9{1}]/.test(s)||"467"===s},errorMessage:"",errorMessageKey:"badTelephone"});var s=function(a){var s=[];return r.each(a,function(r,a){s.push(a.substr(0,1).toUpperCase()+a.substr(1,a.length))}),s.sort(),s};r.fn.suggestSwedishCounty=function(a){var e=s(r.formUtils.validators.validate_swecounty.counties);return r.formUtils.suggest(this,e,a)},r.fn.suggestSwedishMunicipality=function(a){var e=s(r.formUtils.validators.validate_swemunicipality.municipalities);return r.formUtils.suggest(this,e,a)}}(jQuery,window);
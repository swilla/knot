function lbAddListItem(t,e,i){var d=$("div.addListItem > input").val();""!=d&&(t.next("div.addListItem").find("input").val(""),$('<div class="listItemWrap"><div class="listItem">'+d+'</div><div class="deleteButton"></div></div>').hide().prependTo(e).show(i.effect),lbListItemToTextArea(t,e,i))}function lbDeleteListItem(t,e,i,d){i.parent().remove(),lbListItemToTextArea(t,e,d)}function lbListItemToTextArea(t,e,i){var d=[];e.find("div.listItem").each(function(){d.push($(this).text())}),t.val(d.join(i.delimiter))}!function(t){t.fn.listarea=function(e){e=t.extend({delimiter:",",effect:null,placeholder:"add an item"},e);var i=t(this).hide().after('<div class="addListItem"><input type="text" placeholder="'+e.placeholder+'"/><div class="addButton"></div></div>'),d=t("div.addListItem");return t("div.addListItem > .addButton").on("click",function(){lbAddListItem(i,d,e)}),t("div.addListItem").on("click","div.listItemWrap .deleteButton",function(){lbDeleteListItem(i,d,t(this),e)}),t("div.addListItem > input").on("enterKey",function(){return alert("in"),!1}),t("div.addListItem > input").keyup(function(e){return 13==e.keyCode&&(alert("in"),t(this).trigger("enterKey")),!1}),this}}(jQuery,window);
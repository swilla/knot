$(function(){function n(n){return"number"!=typeof n?"":n>=1e9?(n/1e9).toFixed(2)+" GB":n>=1e6?(n/1e6).toFixed(2)+" MB":(n/1e3).toFixed(2)+" KB"}var t=$("#upload ul");$("#drop a").click(function(){$(this).parent().find("input").click()}),$("#upload").fileupload({dropZone:$("#drop"),add:function(e,a){var o=$('<li class="working"><input type="text" value="0" data-width="48" data-height="48" data-fgColor="#0788a5" data-readOnly="1" data-bgColor="#3e4043" /><p></p><span></span></li>');o.find("p").text(a.files[0].name).append("<i>"+n(a.files[0].size)+"</i>"),a.context=o.appendTo(t),o.find("input").knob(),o.find("span").click(function(){o.hasClass("working")&&i.abort(),o.fadeOut(function(){o.remove()})});var i=a.submit()},progress:function(n,t){var e=parseInt(t.loaded/t.total*100,10);t.context.find("input").val(e).change(),100==e&&t.context.removeClass("working")},fail:function(n,t){t.context.addClass("error")}}),$(document).on("drop dragover",function(n){n.preventDefault()})});